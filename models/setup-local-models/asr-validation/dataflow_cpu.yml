# CPU-only ASR dataflow for testing
nodes:
  # WAV file player - reads test audio and sends it
  - id: wav-player
    path: wav_player_node.py
    outputs:
      - audio
      
  # ASR node with CPU only
  - id: asr
    path: ../../../python-nodes/dora-asr
    inputs:
      audio: wav-player/audio
    outputs:
      - text
    env:
      USE_GPU: "false"
      ASR_ENGINE: "funasr"
      LANGUAGE: "zh"
      ASR_MODELS_DIR: "/home/user/.dora/models/asr"
      ENABLE_PUNCTUATION: "true"
      LOG_LEVEL: "INFO"
      
  # Result logger - displays transcription
  - id: result-logger
    path: result_logger_node.py
    inputs:
      text: asr/text